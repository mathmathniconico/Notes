
# 圏論に元を取り戻そう

少々過激なタイトルですが、半分はネタです。

今回紹介するのは **一般化された要素** （generalized element）という概念です。Awodeyの教科書にも載っているので、ひょっとしたらご存知の方も多いと思います。しかし圏論を理解する上で極めて有効な考え方にも関わらず、その扱いが十分であるとは思えません。他のどの教科書についても恐らくそうです。というのも私自身が、今の今までその重要性に気付いていませんでした。いやもしかしたら自分が知らなかっただけで、多くの圏論話者にとっては周知の事実だったのかもしれません。であるなら「どうしてもっと早く教えてくれなかったんだ」シリーズ第一弾の記事ということになります。（続編は未定）

なお今回の記事は、Tom LeinsterによるDoing without diagramsという文章の内容を受けてのものです。Leinsterは圏におけるinternalな構造について図式を使わずに証明する方法について述べていますが、より入門的な内容についても有効だと考え筆を執った次第です。




## 圏は射のみで定義できる

今思い返せば、事の発端は「圏が射の言葉のみを用いて定義できる」という事実と出会ったことです。

参考は[single-sorted definition of a category](https://ncatlab.org/nlab/show/single-sorted+definition+of+a+category)（nLab）です。射$f$に対してsourceとtargetという射$sf, tf$が定義され、一定の条件を満たすものは圏とみなせる、というものです。このとき対象$x$に対応する射は$sx=x\iff tx=x$を満たします。

このとき次の命題が成り立ちます。

__命題__ 射$x$について以下は同値。

- $x$は対象である。
- 任意の射$f, g$について、合成が定義されるなら$f\circ x=f$および$x\circ g=g$が成り立つ。

大事なのは、対象とは射であるということ、そしてその対象を特徴付けるのは他の射との合成である、という視点です。




## 一般化された要素

いつだって集合の圏$\mathbf{Set}$がスタート地点です。集合$X$の要素$x$は、一点集合からの写像$\overline{x}\colon 1\rightarrow X$と一対一に対応します。このとき写像$f\colon X\to Y$による$x$の評価$f(x)\in Y$は、写像の合成$\overline{f(x)}=f\circ\overline{x}$に対応します。つまり要素もまた射であり、合成という演算を通して評価が可能なわけです。

似たような状況は他の圏にもあります。例えば群の圏$\mathbf{Group}$において、群$G$の要素$g$は、整数の加法群$\mathbb{Z}$からの準同型$\overline{g}\colon\mathbb{Z}\rightarrow G$と一対一に対応します。あるいは位相幾何学においては、$n$単体$\Delta_{n}$や$n$次元球面$S^{n}$からの連続写像が中心的な役割を果たします。逆向きの例も挙げると、位相空間$X$の位相$\mathcal{O}X$は、シェルピンスキー空間$(S=\lbrace 0, 1 \rbrace, \lbrace \emptyset, \lbrace 1 \rbrace, S \rbrace )$への連続写像と一対一に対応します。

どうやら考えている圏に応じて$1$や$\mathbb{Z}$、$\Delta^{n}$のような基本的な図形が存在して、それらからの射、あるいはそれらへの射が、その圏の理論で重要だということが分かります。そこで次を定義します。

__定義__ 圏$\mathscr{C}$において、射$x\colon S\to X$を$X$の$S$要素と呼び、$x\in_{S}X$と表す。このとき$S$は$x$の **形** （shape）と呼ぶ。

この$S$要素を総じて、**一般化された要素** （generalized element）と呼びます。ただ長いので、以下は鍵括弧付きで「要素」と書くことにします。このように「要素」を解釈すれば「評価」も定義することができます。

> $x\in_{S}X$という書き方が鍵です。実際はただの射$x\colon S\to X$のことですが、こう書くことで集合論的なイメージが強烈に印象付きます。

__定義__ 「要素」$x\in_{S}X$の射$f\colon X\to Y$による **「評価」** （evaluation）$fx$を、合成$f\circ x$で定める。

__補題__ $f, g\colon X\to Y$について以下は同値。

- $f=g$である。
- 任意の形$S$及び$x\in_{S}X$について$fx=gx$が成り立つ。

（証明）$X$の$X$要素である$\mathrm{id}_{X}$を考えれば良い。$\square$

とても簡単な主張ですが意図は明確です。射の等価性を、各「要素」による「評価」で測れるのです。実に集合論的ではありませんか。

> 「任意の形$S$及び$x\in_{S}$」という条件が大変ですが、圏によってはこの範囲を狭めることができると思います。あるいは、この範囲を制限することで弱い意味での$f=g$を定義できるかもしれません。




## 集合論的な圏論的概念

上で定義した「要素」を用いて、圏論における様々な概念を捉え直してみます。図式が無くて恐縮ですが、適宜調べてください。むしろ図式が必要ないことが重要だったりします。


### 直積

まず対象$A, B$の直積$A\prod B$について考えます。圏論では普遍性を用いて定義されます。$p\colon A\prod B\to A, q\colon A\prod B\to B$であって、任意の$a\colon S\to A, b\colon S\to B$について$p\circ u=a, q\circ u=b$を満たす$u\colon S\to A\prod B$が一意的に存在するとき、$(A\prod B, p, q)$をその直積と呼ぶのでした。

上記は$a\in_{S}A, b\in_{S}B$について$(a, b):=u\in_{S}A\prod B$が定まること、と換言できます。集合論における直積集合の作り方と全く同じことをしているわけです。ただ集合論にはその存在を保証する公理がありますが、一般の圏では分かりません。

well-definedではありませんが、このように圏論的な概念が集合論における対応物を持つとき、その概念は集合論的であると言いましょう。従って直積は集合論的であり「直積集合」と解釈できます。


### 余直積

一方で余直積はどうでしょうか？　文字通り解釈すれば、任意の対象$S$について$a\in_{A}S, b\in_{B}S$と対応する$u\in_{A\coprod B}S$が存在するような形$A\coprod B$のことです。こちらは形に関する主張であり$A\coprod B$の与え方を定めていません。従って余直積は非集合論的、真に圏論的な概念といえます。

> いくつかの圏を念頭におくと、余直積の方が難しい概念であるように感じます。その背景にはこういった集合論的な解釈が無いことが影響しているのではないでしょうか。


### モノ射

$f\colon X\to Y$がモノ射であるとは、$a, b\colon S\to X$について$f\circ a=g\circ b$なら$a=b$となることでした。「要素」を用いると$a, b\in_{S}X$について$fa=fb$なら$a=b$が成り立つ、と換言できます。これが単射であることは明らかです。つまりモノ射は「単射」です。

一方でモノ射の余概念であるエピ射は、やはり集合論的ではありません。しかし次で示すように、エピ射を集合論的に解釈できる場合があります。


### 射影的

対象$P$が射影的であるとは、任意のエピ射$f\colon X\to Y$と任意の射$a\colon P\to Y$について、$f\circ b=a$を満たす射$b\colon P\to X$が存在することでした。ここで$a\in_{P}Y, b\in_{P}X$と書き直せば、任意の$a$について$fb=a$なる$b$が存在すること、と換言できます。つまり射影的な対象は、任意のエピ射を「全射」として解釈可能な形、として集合論的だと言えます。

これすごくないですか？　各々の圏、例えば加群の圏などで射影加群を考える理由はいくつか考えられますが、それが圏論的に明確な動機付けを持って与えられていたことは、おそらく無いと思います。エピ射は非集合論的ですが、しかし射影的な形の範囲に限定すれば、それを全射と解釈でき、集合論的であるということは簡単になる、という発想が生まれます。

詳しくないので分かりませんが、おそらく射影的の余概念である入射的にも、それを集合論的に解釈できるような「何か」がきっと存在すると思います。


### その他の例

詳細は省きますが$f, g\colon X\to Y$のイコライザとは、$e\colon E\to X$であって次の同型対応があるものと解釈できます。

- $\lbrace m\in_{O}X : fm=gm \rbrace\simeq\lbrace u\in_{O}E \rbrace$ただし$eu\leftrightarrow u$

要するに$f$と$g$による「評価」が一致するような「要素」を集めてきた「集合」がイコライザです。であるならば一点集合が基本的な形となる$\mathbf{Set}$において$\lbrace x\in X : f(x)=g(x) \rbrace$がイコライザになりますよね。

またゼロ射を持つ圏は次の二条件で解釈できます。

- 任意の形$S$と任意の対象$X$について、「ゼロ要素」$0_{SX}\in_{S}X$が存在する。
- 「ゼロ要素」は以下を満たす。
    - 任意の射$f\colon X\to Y$について$f0_{SX}=0_{SY}$である。
    - 任意の「要素」$x\in_{S}X$について$0_{XY}x=0_{SY}$である。

> 「要素」は「写像」であり、「写像」は「要素」であることが肝です。

この他にも「要素」を使うと多くの例が簡単に解釈できます。




## 米田の補題

ここまできて勘の良い人は気付いているかと思いますが、一般化された要素という考え方は、実は米田の補題の考え方と全く同じです。というのも、いわゆる米田函手は、対象$X$を函手$h_{X}:=\mathrm{Mor}(\bullet, X)$に対応させます。$X$の「要素」が$x\in_{S}X$であることを思い出せば、それを集めたもの$\lbrace x\in_{S}X \rbrace$は$X$そのものと解釈できます。この「集合」は$X$への射の全体であり、これを圏論的に述べたものが他ならぬ$h_{X}$なのです。

米田の補題は$X\mapsto h_{X}$によって、圏を、その前層の圏に埋め込めるという主張です。でもそれは一般化された要素という考え方からすれば、上述の通りとても自然で自明なことになるのです。前層の圏は元の圏の情報を持った一般化された圏ですから、その研究には価値があると分かります。




## 終わりに

どうでしたか？　私は結構衝撃を受けて夜しか眠れませんでした。「要素」は圏論の理解に役立つだけでなく、教育的にも優れています。なんといっても一番の収穫は **矢印の向きに迷うことは絶対にない** と言えることです。これは初学者が一番混乱する部分だと思うので。

圏論の一般論に限らず、具体的な圏における様々な定理を「要素」により解釈し直すと、新たな視点が得られる可能性はあると思います。ここからは個人的な見解ですが、非集合論的な圏論的概念を集合論的に解釈可能な形として書ける例、は結構あるような気がします。

もしこれを読んだ皆さんが「この定理は集合論的にこう解釈できる」とか「この性質は集合論的に解釈可能にするための条件だ」とか考えたり気付いたりした場合は、是非コメントに残して欲しいです。それ以外にも感想とか待ってます。




## 参考文献

    Steve Awodey. Category Theory.
    Tom Leinster. Basic Category Theory.
    Tom Leinster. Doing without diagrams.
